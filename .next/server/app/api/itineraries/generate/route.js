"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/itineraries/generate/route";
exports.ids = ["app/api/itineraries/generate/route"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fitineraries%2Fgenerate%2Froute&page=%2Fapi%2Fitineraries%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fitineraries%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fitineraries%2Fgenerate%2Froute&page=%2Fapi%2Fitineraries%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fitineraries%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_ilyan_OneDrive_Documents_BCS_YEAR_3_SEM_9_CP2_planora_app_api_itineraries_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/itineraries/generate/route.ts */ \"(rsc)/./app/api/itineraries/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/itineraries/generate/route\",\n        pathname: \"/api/itineraries/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/itineraries/generate/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\ilyan\\\\OneDrive\\\\Documents\\\\BCS YEAR 3\\\\SEM 9\\\\CP2\\\\planora\\\\app\\\\api\\\\itineraries\\\\generate\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_ilyan_OneDrive_Documents_BCS_YEAR_3_SEM_9_CP2_planora_app_api_itineraries_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/itineraries/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpdGluZXJhcmllcyUyRmdlbmVyYXRlJTJGcm91dGUmcGFnZT0lMkZhcGklMkZpdGluZXJhcmllcyUyRmdlbmVyYXRlJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGaXRpbmVyYXJpZXMlMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNpbHlhbiU1Q09uZURyaXZlJTVDRG9jdW1lbnRzJTVDQkNTJTIwWUVBUiUyMDMlNUNTRU0lMjA5JTVDQ1AyJTVDcGxhbm9yYSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDaWx5YW4lNUNPbmVEcml2ZSU1Q0RvY3VtZW50cyU1Q0JDUyUyMFlFQVIlMjAzJTVDU0VNJTIwOSU1Q0NQMiU1Q3BsYW5vcmEmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ2lFO0FBQzlJO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm9yYS8/YzA1ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxpbHlhblxcXFxPbmVEcml2ZVxcXFxEb2N1bWVudHNcXFxcQkNTIFlFQVIgM1xcXFxTRU0gOVxcXFxDUDJcXFxccGxhbm9yYVxcXFxhcHBcXFxcYXBpXFxcXGl0aW5lcmFyaWVzXFxcXGdlbmVyYXRlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9pdGluZXJhcmllcy9nZW5lcmF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2l0aW5lcmFyaWVzL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9pdGluZXJhcmllcy9nZW5lcmF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGlseWFuXFxcXE9uZURyaXZlXFxcXERvY3VtZW50c1xcXFxCQ1MgWUVBUiAzXFxcXFNFTSA5XFxcXENQMlxcXFxwbGFub3JhXFxcXGFwcFxcXFxhcGlcXFxcaXRpbmVyYXJpZXNcXFxcZ2VuZXJhdGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2l0aW5lcmFyaWVzL2dlbmVyYXRlL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fitineraries%2Fgenerate%2Froute&page=%2Fapi%2Fitineraries%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fitineraries%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/itineraries/generate/route.ts":
/*!***********************************************!*\
  !*** ./app/api/itineraries/generate/route.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @lib/db */ \"(rsc)/./app/lib/db.ts\");\n/* harmony import */ var _lib_types__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @lib/types */ \"(rsc)/./app/lib/types.ts\");\n/* harmony import */ var _lib_gemini__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @lib/gemini */ \"(rsc)/./app/lib/gemini.ts\");\n\n\n\n\nasync function POST(req) {\n    try {\n        const body = await req.json();\n        const parsed = _lib_types__WEBPACK_IMPORTED_MODULE_2__.PrefsSchema.safeParse(body);\n        if (!parsed.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: parsed.error.format()\n            }, {\n                status: 400\n            });\n        }\n        const prefs = parsed.data;\n        await (0,_lib_db__WEBPACK_IMPORTED_MODULE_1__.dbConnect)();\n        try {\n            const itinerary = await (0,_lib_gemini__WEBPACK_IMPORTED_MODULE_3__.generateItinerary)(prefs);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(itinerary);\n        } catch (err) {\n            const errorMessage = err instanceof Error ? err.message : String(err);\n            console.error(\"LLM validation error:\", errorMessage);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: errorMessage\n            }, {\n                status: 500\n            });\n        }\n    } catch (err) {\n        const errorMessage = err instanceof Error ? err.message : String(err);\n        console.error(\"Generate route failed:\", errorMessage);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2l0aW5lcmFyaWVzL2dlbmVyYXRlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJDO0FBQ1A7QUFFSztBQUNPO0FBRXpDLGVBQWVJLEtBQUtDLEdBQVk7SUFDckMsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsSUFBSUUsSUFBSTtRQUMzQixNQUFNQyxTQUFTTixtREFBV0EsQ0FBQ08sU0FBUyxDQUFDSDtRQUNyQyxJQUFJLENBQUNFLE9BQU9FLE9BQU8sRUFBRTtZQUNuQixPQUFPVixxREFBWUEsQ0FBQ08sSUFBSSxDQUFDO2dCQUFFSSxPQUFPSCxPQUFPRyxLQUFLLENBQUNDLE1BQU07WUFBRyxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDM0U7UUFDQSxNQUFNQyxRQUFRTixPQUFPTyxJQUFJO1FBRXpCLE1BQU1kLGtEQUFTQTtRQUVmLElBQUk7WUFDRixNQUFNZSxZQUFZLE1BQU1iLDhEQUFpQkEsQ0FBQ1c7WUFDMUMsT0FBT2QscURBQVlBLENBQUNPLElBQUksQ0FBQ1M7UUFDM0IsRUFBRSxPQUFPQyxLQUFLO1lBQ1osTUFBTUMsZUFBZUQsZUFBZUUsUUFBUUYsSUFBSUcsT0FBTyxHQUFHQyxPQUFPSjtZQUNqRUssUUFBUVgsS0FBSyxDQUFDLHlCQUF5Qk87WUFDdkMsT0FBT2xCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7Z0JBQUVJLE9BQU9PO1lBQWEsR0FBRztnQkFBRUwsUUFBUTtZQUFJO1FBQ2xFO0lBQ0YsRUFBRSxPQUFPSSxLQUFLO1FBQ1osTUFBTUMsZUFBZUQsZUFBZUUsUUFBUUYsSUFBSUcsT0FBTyxHQUFHQyxPQUFPSjtRQUNqRUssUUFBUVgsS0FBSyxDQUFDLDBCQUEwQk87UUFDeEMsT0FBT2xCLHFEQUFZQSxDQUFDTyxJQUFJLENBQUM7WUFBRUksT0FBT087UUFBYSxHQUFHO1lBQUVMLFFBQVE7UUFBSTtJQUNsRTtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm9yYS8uL2FwcC9hcGkvaXRpbmVyYXJpZXMvZ2VuZXJhdGUvcm91dGUudHM/MjhkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIjtcbmltcG9ydCB7IGRiQ29ubmVjdCB9IGZyb20gXCJAbGliL2RiXCI7XG5pbXBvcnQgSXRpbmVyYXJ5TW9kZWwgZnJvbSBcIkBsaWIvaXRpbmVyYXJ5TW9kZWxcIjtcbmltcG9ydCB7IFByZWZzU2NoZW1hIH0gZnJvbSBcIkBsaWIvdHlwZXNcIjtcbmltcG9ydCB7IGdlbmVyYXRlSXRpbmVyYXJ5IH0gZnJvbSBcIkBsaWIvZ2VtaW5pXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXEuanNvbigpO1xuICAgIGNvbnN0IHBhcnNlZCA9IFByZWZzU2NoZW1hLnNhZmVQYXJzZShib2R5KTtcbiAgICBpZiAoIXBhcnNlZC5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogcGFyc2VkLmVycm9yLmZvcm1hdCgpIH0sIHsgc3RhdHVzOiA0MDAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHByZWZzID0gcGFyc2VkLmRhdGE7XG5cbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBpdGluZXJhcnkgPSBhd2FpdCBnZW5lcmF0ZUl0aW5lcmFyeShwcmVmcyk7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oaXRpbmVyYXJ5KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBTdHJpbmcoZXJyKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJMTE0gdmFsaWRhdGlvbiBlcnJvcjpcIiwgZXJyb3JNZXNzYWdlKTtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvck1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiBTdHJpbmcoZXJyKTtcbiAgICBjb25zb2xlLmVycm9yKFwiR2VuZXJhdGUgcm91dGUgZmFpbGVkOlwiLCBlcnJvck1lc3NhZ2UpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiBlcnJvck1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImRiQ29ubmVjdCIsIlByZWZzU2NoZW1hIiwiZ2VuZXJhdGVJdGluZXJhcnkiLCJQT1NUIiwicmVxIiwiYm9keSIsImpzb24iLCJwYXJzZWQiLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJmb3JtYXQiLCJzdGF0dXMiLCJwcmVmcyIsImRhdGEiLCJpdGluZXJhcnkiLCJlcnIiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJTdHJpbmciLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/itineraries/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/db.ts":
/*!***********************!*\
  !*** ./app/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dbConnect: () => (/* binding */ dbConnect)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Missing MONGODB_URI\");\n}\nlet cached = global._mongoose || {\n    conn: null,\n    promise: null\n};\nif (!global._mongoose) {\n    global._mongoose = cached;\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI).then((m)=>m);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFBTTtBQUNsQjtBQVlBLElBQUlDLFNBQXdCQyxPQUFPQyxTQUFTLElBQUk7SUFBRUMsTUFBTTtJQUFNQyxTQUFTO0FBQUs7QUFFNUUsSUFBSSxDQUFDSCxPQUFPQyxTQUFTLEVBQUU7SUFDckJELE9BQU9DLFNBQVMsR0FBR0Y7QUFDckI7QUFFTyxlQUFlSztJQUNwQixJQUFJTCxPQUFPRyxJQUFJLEVBQUU7UUFDZixPQUFPSCxPQUFPRyxJQUFJO0lBQ3BCO0lBRUEsSUFBSSxDQUFDSCxPQUFPSSxPQUFPLEVBQUU7UUFDbkJKLE9BQU9JLE9BQU8sR0FBR1QsdURBQWdCLENBQUNDLGFBQWFXLElBQUksQ0FBQyxDQUFDQyxJQUFNQTtJQUM3RDtJQUVBUixPQUFPRyxJQUFJLEdBQUcsTUFBTUgsT0FBT0ksT0FBTztJQUNsQyxPQUFPSixPQUFPRyxJQUFJO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm9yYS8uL2FwcC9saWIvZGIudHM/NThmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5cbmNvbnN0IE1PTkdPREJfVVJJID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VUkkhO1xuXG5pZiAoIU1PTkdPREJfVVJJKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIk1pc3NpbmcgTU9OR09EQl9VUklcIik7XG59XG5cbmludGVyZmFjZSBNb25nb29zZUNhY2hlIHtcbiAgY29ubjogdHlwZW9mIG1vbmdvb3NlIHwgbnVsbDtcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdmFyXG4gIHZhciBfbW9uZ29vc2U6IE1vbmdvb3NlQ2FjaGUgfCB1bmRlZmluZWQ7XG59XG5cbmxldCBjYWNoZWQ6IE1vbmdvb3NlQ2FjaGUgPSBnbG9iYWwuX21vbmdvb3NlIHx8IHsgY29ubjogbnVsbCwgcHJvbWlzZTogbnVsbCB9O1xuXG5pZiAoIWdsb2JhbC5fbW9uZ29vc2UpIHtcbiAgZ2xvYmFsLl9tb25nb29zZSA9IGNhY2hlZDtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcbiAgaWYgKGNhY2hlZC5jb25uKSB7XG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xuICB9XG5cbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSkudGhlbigobSkgPT4gbSk7XG4gIH1cblxuICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xuICByZXR1cm4gY2FjaGVkLmNvbm47XG59XG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsIl9tb25nb29zZSIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0IiwiY29ubmVjdCIsInRoZW4iLCJtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/gemini.ts":
/*!***************************!*\
  !*** ./app/lib/gemini.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateItinerary: () => (/* binding */ generateItinerary)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\n\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GOOGLE_API_KEY);\nconst CANDIDATE_MODELS = [\n    process.env.GEMINI_MODEL,\n    \"models/gemini-2.5-pro\",\n    \"models/gemini-2.5-flash\"\n].filter(Boolean);\nconst BudgetEnum = zod__WEBPACK_IMPORTED_MODULE_1__[\"enum\"]([\n    \"low\",\n    \"medium\",\n    \"high\"\n]);\nconst CoercedBudget = zod__WEBPACK_IMPORTED_MODULE_1__.preprocess((v)=>typeof v === \"string\" ? v.trim().toLowerCase() : v, BudgetEnum);\nconst RESPONSE_SCHEMA = zod__WEBPACK_IMPORTED_MODULE_1__.object({\n    prefs: zod__WEBPACK_IMPORTED_MODULE_1__.object({\n        destination: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n        startDate: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n        endDate: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n        budget: CoercedBudget,\n        interests: zod__WEBPACK_IMPORTED_MODULE_1__.array(zod__WEBPACK_IMPORTED_MODULE_1__.string()).default([])\n    }),\n    days: zod__WEBPACK_IMPORTED_MODULE_1__.array(zod__WEBPACK_IMPORTED_MODULE_1__.object({\n        day: zod__WEBPACK_IMPORTED_MODULE_1__.number().int().min(1),\n        summary: zod__WEBPACK_IMPORTED_MODULE_1__.string().optional(),\n        activities: zod__WEBPACK_IMPORTED_MODULE_1__.array(zod__WEBPACK_IMPORTED_MODULE_1__.object({\n            title: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n            time: zod__WEBPACK_IMPORTED_MODULE_1__.string(),\n            location: zod__WEBPACK_IMPORTED_MODULE_1__.string()\n        })).min(1)\n    })).min(1)\n});\nasync function generateItinerary(prefs) {\n    for (const m of CANDIDATE_MODELS){\n        try {\n            const model = genAI.getGenerativeModel({\n                model: m\n            });\n            const prompt = `\nReturn ONLY valid JSON matching this shape (no prose):\n\n{\n  \"prefs\": {\n    \"destination\": \"${prefs.destination}\",\n    \"startDate\": \"${prefs.startDate}\",\n    \"endDate\": \"${prefs.endDate}\",\n    \"budget\": \"${prefs.budget}\"\n  },\n  \"days\": [\n    {\n      \"day\": <1-based day index>,\n      \"summary\": \"<one-sentence summary>\",\n      \"activities\": [\n        { \"title\": \"<what>\", \"time\": \"<HH:MM>\", \"location\": \"<where>\" },\n        { \"title\": \"<what>\", \"time\": \"<HH:MM>\", \"location\": \"<where>\" },\n        { \"title\": \"<what>\", \"time\": \"<HH:MM>\", \"location\": \"<where>\" }\n      ]\n    }\n  ]\n}\n\nRules:\n- Output **only** JSON (no markdown fences).\n- Keep \"budget\" lowercase exactly.\n- Times in 24h HH:MM.\n- Ensure all required fields exist.\n`;\n            const res = await model.generateContent({\n                contents: [\n                    {\n                        role: \"user\",\n                        parts: [\n                            {\n                                text: prompt\n                            }\n                        ]\n                    }\n                ]\n            });\n            const text = res.response.text().trim();\n            const json = JSON.parse(text);\n            const validated = RESPONSE_SCHEMA.parse(json);\n            return validated;\n        } catch (e) {\n        // Try next model if this one fails\n        }\n    }\n    throw new Error(\"All candidate models failed to produce valid JSON.\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL2dlbWluaS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkQ7QUFDbkM7QUFHeEIsTUFBTUUsUUFBUSxJQUFJRixxRUFBa0JBLENBQUNHLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYztBQUUvRCxNQUFNQyxtQkFBbUI7SUFDdkJILFFBQVFDLEdBQUcsQ0FBQ0csWUFBWTtJQUN4QjtJQUNBO0NBQ0QsQ0FBQ0MsTUFBTSxDQUFDQztBQUVULE1BQU1DLGFBQWFULHdDQUFNLENBQUM7SUFBQztJQUFPO0lBQVU7Q0FBTztBQUNuRCxNQUFNVyxnQkFBZ0JYLDJDQUFZLENBQ2hDLENBQUNhLElBQU8sT0FBT0EsTUFBTSxXQUFXQSxFQUFFQyxJQUFJLEdBQUdDLFdBQVcsS0FBS0YsR0FDekRKO0FBR0YsTUFBTU8sa0JBQWtCaEIsdUNBQVEsQ0FBQztJQUMvQmtCLE9BQU9sQix1Q0FBUSxDQUFDO1FBQ2RtQixhQUFhbkIsdUNBQVE7UUFDckJxQixXQUFXckIsdUNBQVE7UUFDbkJzQixTQUFTdEIsdUNBQVE7UUFDakJ1QixRQUFRWjtRQUNSYSxXQUFXeEIsc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSTBCLE9BQU8sQ0FBQyxFQUFFO0lBQzNDO0lBQ0FDLE1BQU0zQixzQ0FDRSxDQUNKQSx1Q0FBUSxDQUFDO1FBQ1A0QixLQUFLNUIsdUNBQVEsR0FBRzhCLEdBQUcsR0FBR0MsR0FBRyxDQUFDO1FBQzFCQyxTQUFTaEMsdUNBQVEsR0FBR2lDLFFBQVE7UUFDNUJDLFlBQVlsQyxzQ0FDSixDQUNKQSx1Q0FBUSxDQUFDO1lBQ1BtQyxPQUFPbkMsdUNBQVE7WUFDZm9DLE1BQU1wQyx1Q0FBUTtZQUNkcUMsVUFBVXJDLHVDQUFRO1FBQ3BCLElBRUQrQixHQUFHLENBQUM7SUFDVCxJQUVEQSxHQUFHLENBQUM7QUFDVDtBQUVPLGVBQWVPLGtCQUFrQnBCLEtBQVk7SUFDbEQsS0FBSyxNQUFNcUIsS0FBS2xDLGlCQUFrQjtRQUNoQyxJQUFJO1lBQ0YsTUFBTW1DLFFBQVF2QyxNQUFNd0Msa0JBQWtCLENBQUM7Z0JBQUVELE9BQU9EO1lBQUU7WUFFbEQsTUFBTUcsU0FBUyxDQUFDOzs7OztvQkFLRixFQUFFeEIsTUFBTUMsV0FBVyxDQUFDO2tCQUN0QixFQUFFRCxNQUFNRyxTQUFTLENBQUM7Z0JBQ3BCLEVBQUVILE1BQU1JLE9BQU8sQ0FBQztlQUNqQixFQUFFSixNQUFNSyxNQUFNLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0I5QixDQUFDO1lBRUssTUFBTW9CLE1BQU0sTUFBTUgsTUFBTUksZUFBZSxDQUFDO2dCQUN0Q0MsVUFBVTtvQkFBQzt3QkFBRUMsTUFBTTt3QkFBUUMsT0FBTzs0QkFBQztnQ0FBRUMsTUFBTU47NEJBQU87eUJBQUU7b0JBQUM7aUJBQUU7WUFDekQ7WUFDQSxNQUFNTSxPQUFPTCxJQUFJTSxRQUFRLENBQUNELElBQUksR0FBR2xDLElBQUk7WUFFckMsTUFBTW9DLE9BQU9DLEtBQUtDLEtBQUssQ0FBQ0o7WUFDeEIsTUFBTUssWUFBWXJDLGdCQUFnQm9DLEtBQUssQ0FBQ0Y7WUFFeEMsT0FBT0c7UUFDVCxFQUFFLE9BQU9DLEdBQUc7UUFDVixtQ0FBbUM7UUFDckM7SUFDRjtJQUVBLE1BQU0sSUFBSUMsTUFBTTtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL3BsYW5vcmEvLi9hcHAvbGliL2dlbWluaS50cz9hNjM2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdvb2dsZUdlbmVyYXRpdmVBSSB9IGZyb20gXCJAZ29vZ2xlL2dlbmVyYXRpdmUtYWlcIjtcbmltcG9ydCB7IHogfSBmcm9tIFwiem9kXCI7XG5pbXBvcnQgdHlwZSB7IFByZWZzIH0gZnJvbSBcIkBsaWIvdHlwZXNcIjtcblxuY29uc3QgZ2VuQUkgPSBuZXcgR29vZ2xlR2VuZXJhdGl2ZUFJKHByb2Nlc3MuZW52LkdPT0dMRV9BUElfS0VZISk7XG5cbmNvbnN0IENBTkRJREFURV9NT0RFTFMgPSBbXG4gIHByb2Nlc3MuZW52LkdFTUlOSV9NT0RFTCxcbiAgXCJtb2RlbHMvZ2VtaW5pLTIuNS1wcm9cIixcbiAgXCJtb2RlbHMvZ2VtaW5pLTIuNS1mbGFzaFwiLFxuXS5maWx0ZXIoQm9vbGVhbikgYXMgc3RyaW5nW107XG5cbmNvbnN0IEJ1ZGdldEVudW0gPSB6LmVudW0oW1wibG93XCIsIFwibWVkaXVtXCIsIFwiaGlnaFwiXSk7XG5jb25zdCBDb2VyY2VkQnVkZ2V0ID0gei5wcmVwcm9jZXNzKFxuICAodikgPT4gKHR5cGVvZiB2ID09PSBcInN0cmluZ1wiID8gdi50cmltKCkudG9Mb3dlckNhc2UoKSA6IHYpLFxuICBCdWRnZXRFbnVtXG4pO1xuXG5jb25zdCBSRVNQT05TRV9TQ0hFTUEgPSB6Lm9iamVjdCh7XG4gIHByZWZzOiB6Lm9iamVjdCh7XG4gICAgZGVzdGluYXRpb246IHouc3RyaW5nKCksXG4gICAgc3RhcnREYXRlOiB6LnN0cmluZygpLFxuICAgIGVuZERhdGU6IHouc3RyaW5nKCksXG4gICAgYnVkZ2V0OiBDb2VyY2VkQnVkZ2V0LFxuICAgIGludGVyZXN0czogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbiAgfSksXG4gIGRheXM6IHpcbiAgICAuYXJyYXkoXG4gICAgICB6Lm9iamVjdCh7XG4gICAgICAgIGRheTogei5udW1iZXIoKS5pbnQoKS5taW4oMSksXG4gICAgICAgIHN1bW1hcnk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAgICAgYWN0aXZpdGllczogelxuICAgICAgICAgIC5hcnJheShcbiAgICAgICAgICAgIHoub2JqZWN0KHtcbiAgICAgICAgICAgICAgdGl0bGU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgIHRpbWU6IHouc3RyaW5nKCksXG4gICAgICAgICAgICAgIGxvY2F0aW9uOiB6LnN0cmluZygpLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApXG4gICAgICAgICAgLm1pbigxKSxcbiAgICAgIH0pXG4gICAgKVxuICAgIC5taW4oMSksXG59KTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlSXRpbmVyYXJ5KHByZWZzOiBQcmVmcykge1xuICBmb3IgKGNvbnN0IG0gb2YgQ0FORElEQVRFX01PREVMUykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7IG1vZGVsOiBtIH0pO1xuXG4gICAgICBjb25zdCBwcm9tcHQgPSBgXG5SZXR1cm4gT05MWSB2YWxpZCBKU09OIG1hdGNoaW5nIHRoaXMgc2hhcGUgKG5vIHByb3NlKTpcblxue1xuICBcInByZWZzXCI6IHtcbiAgICBcImRlc3RpbmF0aW9uXCI6IFwiJHtwcmVmcy5kZXN0aW5hdGlvbn1cIixcbiAgICBcInN0YXJ0RGF0ZVwiOiBcIiR7cHJlZnMuc3RhcnREYXRlfVwiLFxuICAgIFwiZW5kRGF0ZVwiOiBcIiR7cHJlZnMuZW5kRGF0ZX1cIixcbiAgICBcImJ1ZGdldFwiOiBcIiR7cHJlZnMuYnVkZ2V0fVwiXG4gIH0sXG4gIFwiZGF5c1wiOiBbXG4gICAge1xuICAgICAgXCJkYXlcIjogPDEtYmFzZWQgZGF5IGluZGV4PixcbiAgICAgIFwic3VtbWFyeVwiOiBcIjxvbmUtc2VudGVuY2Ugc3VtbWFyeT5cIixcbiAgICAgIFwiYWN0aXZpdGllc1wiOiBbXG4gICAgICAgIHsgXCJ0aXRsZVwiOiBcIjx3aGF0PlwiLCBcInRpbWVcIjogXCI8SEg6TU0+XCIsIFwibG9jYXRpb25cIjogXCI8d2hlcmU+XCIgfSxcbiAgICAgICAgeyBcInRpdGxlXCI6IFwiPHdoYXQ+XCIsIFwidGltZVwiOiBcIjxISDpNTT5cIiwgXCJsb2NhdGlvblwiOiBcIjx3aGVyZT5cIiB9LFxuICAgICAgICB7IFwidGl0bGVcIjogXCI8d2hhdD5cIiwgXCJ0aW1lXCI6IFwiPEhIOk1NPlwiLCBcImxvY2F0aW9uXCI6IFwiPHdoZXJlPlwiIH1cbiAgICAgIF1cbiAgICB9XG4gIF1cbn1cblxuUnVsZXM6XG4tIE91dHB1dCAqKm9ubHkqKiBKU09OIChubyBtYXJrZG93biBmZW5jZXMpLlxuLSBLZWVwIFwiYnVkZ2V0XCIgbG93ZXJjYXNlIGV4YWN0bHkuXG4tIFRpbWVzIGluIDI0aCBISDpNTS5cbi0gRW5zdXJlIGFsbCByZXF1aXJlZCBmaWVsZHMgZXhpc3QuXG5gO1xuXG4gICAgICBjb25zdCByZXMgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQoe1xuICAgICAgICBjb250ZW50czogW3sgcm9sZTogXCJ1c2VyXCIsIHBhcnRzOiBbeyB0ZXh0OiBwcm9tcHQgfV0gfV0sXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHRleHQgPSByZXMucmVzcG9uc2UudGV4dCgpLnRyaW0oKTtcblxuICAgICAgY29uc3QganNvbiA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgICBjb25zdCB2YWxpZGF0ZWQgPSBSRVNQT05TRV9TQ0hFTUEucGFyc2UoanNvbik7XG5cbiAgICAgIHJldHVybiB2YWxpZGF0ZWQ7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gVHJ5IG5leHQgbW9kZWwgaWYgdGhpcyBvbmUgZmFpbHNcbiAgICB9XG4gIH1cblxuICB0aHJvdyBuZXcgRXJyb3IoXCJBbGwgY2FuZGlkYXRlIG1vZGVscyBmYWlsZWQgdG8gcHJvZHVjZSB2YWxpZCBKU09OLlwiKTtcbn1cbiJdLCJuYW1lcyI6WyJHb29nbGVHZW5lcmF0aXZlQUkiLCJ6IiwiZ2VuQUkiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0FQSV9LRVkiLCJDQU5ESURBVEVfTU9ERUxTIiwiR0VNSU5JX01PREVMIiwiZmlsdGVyIiwiQm9vbGVhbiIsIkJ1ZGdldEVudW0iLCJlbnVtIiwiQ29lcmNlZEJ1ZGdldCIsInByZXByb2Nlc3MiLCJ2IiwidHJpbSIsInRvTG93ZXJDYXNlIiwiUkVTUE9OU0VfU0NIRU1BIiwib2JqZWN0IiwicHJlZnMiLCJkZXN0aW5hdGlvbiIsInN0cmluZyIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJidWRnZXQiLCJpbnRlcmVzdHMiLCJhcnJheSIsImRlZmF1bHQiLCJkYXlzIiwiZGF5IiwibnVtYmVyIiwiaW50IiwibWluIiwic3VtbWFyeSIsIm9wdGlvbmFsIiwiYWN0aXZpdGllcyIsInRpdGxlIiwidGltZSIsImxvY2F0aW9uIiwiZ2VuZXJhdGVJdGluZXJhcnkiLCJtIiwibW9kZWwiLCJnZXRHZW5lcmF0aXZlTW9kZWwiLCJwcm9tcHQiLCJyZXMiLCJnZW5lcmF0ZUNvbnRlbnQiLCJjb250ZW50cyIsInJvbGUiLCJwYXJ0cyIsInRleHQiLCJyZXNwb25zZSIsImpzb24iLCJKU09OIiwicGFyc2UiLCJ2YWxpZGF0ZWQiLCJlIiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/gemini.ts\n");

/***/ }),

/***/ "(rsc)/./app/lib/types.ts":
/*!**************************!*\
  !*** ./app/lib/types.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ActivitySchema: () => (/* binding */ ActivitySchema),\n/* harmony export */   BudgetEnum: () => (/* binding */ BudgetEnum),\n/* harmony export */   DaySchema: () => (/* binding */ DaySchema),\n/* harmony export */   ItinerarySchema: () => (/* binding */ ItinerarySchema),\n/* harmony export */   PrefsSchema: () => (/* binding */ PrefsSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n\nconst BudgetEnum = zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n    \"low\",\n    \"medium\",\n    \"high\"\n]);\nconst ActivitySchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    title: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    time: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    location: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    lat: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional(),\n    lng: zod__WEBPACK_IMPORTED_MODULE_0__.number().optional()\n});\nconst DaySchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    day: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().min(1),\n    summary: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    activities: zod__WEBPACK_IMPORTED_MODULE_0__.array(ActivitySchema).min(1)\n});\nconst PrefsSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    destination: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1),\n    startDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(4),\n    endDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(4),\n    budget: zod__WEBPACK_IMPORTED_MODULE_0__.preprocess((v)=>typeof v === \"string\" ? v.toLowerCase() : v, BudgetEnum),\n    interests: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).default([])\n});\nconst ItinerarySchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    _id: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    prefs: PrefsSchema,\n    days: zod__WEBPACK_IMPORTED_MODULE_0__.array(DaySchema).min(1),\n    createdAt: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvbGliL3R5cGVzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3QjtBQUVqQixNQUFNQyxhQUFhRCx3Q0FBTSxDQUFDO0lBQUM7SUFBTztJQUFVO0NBQU8sRUFBRTtBQUVyRCxNQUFNRyxpQkFBaUJILHVDQUFRLENBQUM7SUFDckNLLE9BQU9MLHVDQUFRO0lBQ2ZPLE1BQU1QLHVDQUFRO0lBQ2RRLFVBQVVSLHVDQUFRO0lBQ2xCUyxLQUFLVCx1Q0FBUSxHQUFHVyxRQUFRO0lBQ3hCQyxLQUFLWix1Q0FBUSxHQUFHVyxRQUFRO0FBQzFCLEdBQUc7QUFFSSxNQUFNRSxZQUFZYix1Q0FBUSxDQUFDO0lBQ2hDYyxLQUFLZCx1Q0FBUSxHQUFHZSxHQUFHLEdBQUdDLEdBQUcsQ0FBQztJQUMxQkMsU0FBU2pCLHVDQUFRLEdBQUdXLFFBQVE7SUFDNUJPLFlBQVlsQixzQ0FBTyxDQUFDRyxnQkFBZ0JhLEdBQUcsQ0FBQztBQUMxQyxHQUFHO0FBRUksTUFBTUksY0FBY3BCLHVDQUFRLENBQUM7SUFDbENxQixhQUFhckIsdUNBQVEsR0FBR2dCLEdBQUcsQ0FBQztJQUM1Qk0sV0FBV3RCLHVDQUFRLEdBQUdnQixHQUFHLENBQUM7SUFDMUJPLFNBQVN2Qix1Q0FBUSxHQUFHZ0IsR0FBRyxDQUFDO0lBQ3hCUSxRQUFReEIsMkNBQVksQ0FDbEIsQ0FBQzBCLElBQU8sT0FBT0EsTUFBTSxXQUFXQSxFQUFFQyxXQUFXLEtBQUtELEdBQ2xEekI7SUFFRjJCLFdBQVc1QixzQ0FBTyxDQUFDQSx1Q0FBUSxJQUFJNkIsT0FBTyxDQUFDLEVBQUU7QUFDM0MsR0FBRztBQUVJLE1BQU1DLGtCQUFrQjlCLHVDQUFRLENBQUM7SUFDdEMrQixLQUFLL0IsdUNBQVEsR0FBR1csUUFBUTtJQUN4QnFCLE9BQU9aO0lBQ1BhLE1BQU1qQyxzQ0FBTyxDQUFDYSxXQUFXRyxHQUFHLENBQUM7SUFDN0JrQixXQUFXbEMsdUNBQVEsR0FBR1csUUFBUTtBQUNoQyxHQUFHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcGxhbm9yYS8uL2FwcC9saWIvdHlwZXMudHM/NmVhOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB6IH0gZnJvbSBcInpvZFwiO1xuXG5leHBvcnQgY29uc3QgQnVkZ2V0RW51bSA9IHouZW51bShbXCJsb3dcIiwgXCJtZWRpdW1cIiwgXCJoaWdoXCJdKTtcblxuZXhwb3J0IGNvbnN0IEFjdGl2aXR5U2NoZW1hID0gei5vYmplY3Qoe1xuICB0aXRsZTogei5zdHJpbmcoKSxcbiAgdGltZTogei5zdHJpbmcoKSxcbiAgbG9jYXRpb246IHouc3RyaW5nKCksXG4gIGxhdDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICBsbmc6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgRGF5U2NoZW1hID0gei5vYmplY3Qoe1xuICBkYXk6IHoubnVtYmVyKCkuaW50KCkubWluKDEpLFxuICBzdW1tYXJ5OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFjdGl2aXRpZXM6IHouYXJyYXkoQWN0aXZpdHlTY2hlbWEpLm1pbigxKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgUHJlZnNTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGRlc3RpbmF0aW9uOiB6LnN0cmluZygpLm1pbigxKSxcbiAgc3RhcnREYXRlOiB6LnN0cmluZygpLm1pbig0KSxcbiAgZW5kRGF0ZTogei5zdHJpbmcoKS5taW4oNCksXG4gIGJ1ZGdldDogei5wcmVwcm9jZXNzKFxuICAgICh2KSA9PiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIgPyB2LnRvTG93ZXJDYXNlKCkgOiB2KSxcbiAgICBCdWRnZXRFbnVtXG4gICksXG4gIGludGVyZXN0czogei5hcnJheSh6LnN0cmluZygpKS5kZWZhdWx0KFtdKSxcbn0pO1xuXG5leHBvcnQgY29uc3QgSXRpbmVyYXJ5U2NoZW1hID0gei5vYmplY3Qoe1xuICBfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcHJlZnM6IFByZWZzU2NoZW1hLFxuICBkYXlzOiB6LmFycmF5KERheVNjaGVtYSkubWluKDEpLFxuICBjcmVhdGVkQXQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbn0pO1xuXG5leHBvcnQgdHlwZSBBY3Rpdml0eSA9IHouaW5mZXI8dHlwZW9mIEFjdGl2aXR5U2NoZW1hPjtcbmV4cG9ydCB0eXBlIERheSA9IHouaW5mZXI8dHlwZW9mIERheVNjaGVtYT47XG5leHBvcnQgdHlwZSBQcmVmcyA9IHouaW5mZXI8dHlwZW9mIFByZWZzU2NoZW1hPjtcbmV4cG9ydCB0eXBlIEl0aW5lcmFyeSA9IHouaW5mZXI8dHlwZW9mIEl0aW5lcmFyeVNjaGVtYT47XG4iXSwibmFtZXMiOlsieiIsIkJ1ZGdldEVudW0iLCJlbnVtIiwiQWN0aXZpdHlTY2hlbWEiLCJvYmplY3QiLCJ0aXRsZSIsInN0cmluZyIsInRpbWUiLCJsb2NhdGlvbiIsImxhdCIsIm51bWJlciIsIm9wdGlvbmFsIiwibG5nIiwiRGF5U2NoZW1hIiwiZGF5IiwiaW50IiwibWluIiwic3VtbWFyeSIsImFjdGl2aXRpZXMiLCJhcnJheSIsIlByZWZzU2NoZW1hIiwiZGVzdGluYXRpb24iLCJzdGFydERhdGUiLCJlbmREYXRlIiwiYnVkZ2V0IiwicHJlcHJvY2VzcyIsInYiLCJ0b0xvd2VyQ2FzZSIsImludGVyZXN0cyIsImRlZmF1bHQiLCJJdGluZXJhcnlTY2hlbWEiLCJfaWQiLCJwcmVmcyIsImRheXMiLCJjcmVhdGVkQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/lib/types.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fitineraries%2Fgenerate%2Froute&page=%2Fapi%2Fitineraries%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fitineraries%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Cilyan%5COneDrive%5CDocuments%5CBCS%20YEAR%203%5CSEM%209%5CCP2%5Cplanora&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();